var h=Object.defineProperty;var p=(a,e,s)=>e in a?h(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var n=(a,e,s)=>(p(a,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();class t{static formatAmount(e){if(e<1e3)return e.toFixed(2);if(e<1e6)return(e/1e3).toFixed(2)+"K";if(e<1e9)return(e/1e6).toFixed(2)+"M";if(e<1e12)return(e/1e9).toFixed(2)+"B";if(e<1e15)return(e/1e12).toFixed(2)+"T";if(e<1e18)return(e/1e15).toFixed(2)+"Q";if(e<1e21)return(e/1e18).toFixed(2)+"Qi";if(e<1e24)return(e/1e21).toFixed(2)+"Sx";if(e<1e27)return(e/1e24).toFixed(2)+"Sp";if(e<1e30)return(e/1e27).toFixed(2)+"Oc";if(e<1e33)return(e/1e30).toFixed(2)+"No"}}n(t,"MsgBankSubtract","clicker:bank-subtract"),n(t,"MsgBankAdd","clicker:bank-add"),n(t,"MsgBankUpdate","clicker:bank-savings"),n(t,"MsgGeneratorUpgrade","clicker:generator-upgrade");const g="body{font-family:Roboto,Ubuntu,Oxygen,Open Sans,Helvetica Neue,sans-serif,system-ui}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}:host{display:inline-block;border:2px dashed #6fa;padding:.5rem}";class u extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.bankSavings=0}connectedCallback(){document.addEventListener(t.MsgBankAdd,this),document.addEventListener(t.MsgBankSubtract,this),this.render()}handleEvent(e){e.type===t.MsgBankAdd&&(this.bankSavings+=e.detail.quantity,this.dispatchCustomEventAddBankSavings(this.bankSavings),this.updateSavings()),e.type===t.MsgBankSubtract&&(this.bankSavings-=e.detail.quantity,this.dispatchCustomEventAddBankSavings(this.bankSavings),this.updateSavings())}dispatchCustomEventAddBankSavings(e){const s=new CustomEvent(t.MsgBankUpdate,{detail:{bankSavings:e},bubbles:!0,composed:!0});this.dispatchEvent(s)}render(){this.shadowRoot.innerHTML=`
      <style>
        ${g}
      </style>
      <h3>🏦</h3>
      <p class="clicker-bank-savings">💵 ${t.formatAmount(this.bankSavings)}</p>
    `}updateSavings(){const e=this.shadowRoot.querySelector(".clicker-bank-savings");e.innerHTML=`💵 ${t.formatAmount(this.bankSavings)}`}}customElements.define("clicker-bank",u);const b="body{font-family:Roboto,Ubuntu,Oxygen,Open Sans,Helvetica Neue,sans-serif,system-ui}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}:host{display:inline-block;border:2px dashed rgba(255,170,102,.6666666667);padding:.5rem}.clicker-generator-progress-bar{width:100%;height:2px;background-color:#666}.clicker-generator-progress{width:0%;height:100%;background-color:#00cc5b}",r=class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.gId=this.getAttribute(r.G_ID),this.gTitle=this.getAttribute(r.G_TITLE),this.gPrice=parseInt(this.getAttribute(r.G_PRICE)),this.gLevel=parseInt(this.getAttribute(r.G_LEVEL)),this.gMps=parseInt(this.getAttribute(r.G_MPS)),this.gCooldown=parseInt(this.getAttribute(r.G_COOLDOWN)),this.bankSavings=0}connectedCallback(){this.render(),this.style.display="none",this.gLevel>0&&this.resetProgressBar(),document.addEventListener(t.MsgBankUpdate,this)}handleEvent(e){e.type===t.MsgBankUpdate&&(this.bankSavings=e.detail.bankSavings,this.updateGeneratorVisibility(),this.updateUpgradeButtonAvailable())}sendQuantityToBank(){const e=new CustomEvent(t.MsgBankAdd,{detail:{quantity:this.gMps*this.gLevel},bubbles:!0,composed:!0});this.dispatchEvent(e),this.resetProgressBar()}spendFromTheBank(e){const s=new CustomEvent(t.MsgBankSubtract,{detail:{quantity:e},bubbles:!0,composed:!0});this.dispatchEvent(s)}render(){this.shadowRoot.innerHTML=`
      <style>
        ${b}
      </style>
      <div>
        <h3>${this.gTitle}</h3>
        <p class="clicker-generator-level">Level ${this.gLevel}</p>
        <div class="clicker-generator-progress-bar">
          <div class="clicker-generator-progress"></div>
        </div>
        <p class="clicker-generator-mps">Income ${t.formatAmount(this.gMps*this.gLevel)} 💰/s</p>
        <button class='clicker-generator-add-btn' disabled>Improve 💸 ${t.formatAmount(this.getCurrentCost())}</button>
      </div>
    `,this.shadowRoot.querySelector(".clicker-generator-add-btn").addEventListener("click",()=>this.upgrade())}updateGeneratorVisibility(){this.bankSavings>=this.gPrice&&(this.style.display="inline-block")}updateUpgradeButtonAvailable(){const e=this.shadowRoot.querySelector(".clicker-generator-add-btn");this.bankSavings>=this.getCurrentCost()?e.removeAttribute("disabled"):e.setAttribute("disabled","")}upgrade(){this.spendFromTheBank(this.getCurrentCost()),this.gLevel++,this.shadowRoot.querySelector(".clicker-generator-level").textContent=`Level ${this.gLevel}`,this.shadowRoot.querySelector(".clicker-generator-mps").textContent=`Income ${t.formatAmount(this.gMps*this.gLevel)} 💰/s`,this.shadowRoot.querySelector(".clicker-generator-add-btn").textContent=`Improve 💸 ${t.formatAmount(this.getCurrentCost())}`,this.resetProgressBar()}getCurrentCost(){return this.gPrice*1.5**this.gLevel}resetProgressBar(){clearInterval(this.cooldownTimer),this.cooldownTimer=null,this.currentCooldownTime=0,this.cooldownTimer=setInterval(()=>{this.updateProgressBar(),this.currentCooldownTime+=30},30)}updateProgressBar(){const e=this.shadowRoot.querySelector(".clicker-generator-progress"),s=this.currentCooldownTime/this.gCooldown;e.style.width=`${s*100}%`,s>=1&&this.sendQuantityToBank()}};n(r,"G_ID","data-id"),n(r,"G_TITLE","data-title"),n(r,"G_PRICE","data-price"),n(r,"G_LEVEL","data-level"),n(r,"G_MPS","data-mps"),n(r,"G_COOLDOWN","data-cooldown");let d=r;customElements.define("clicker-generator",d);const v="body{font-family:Roboto,Ubuntu,Oxygen,Open Sans,Helvetica Neue,sans-serif,system-ui}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{line-height:1.5;-webkit-font-smoothing:antialiased}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{overflow-wrap:break-word}:host{display:block;border:2px dashed #6af;padding:.5rem}",m=[{id:1,title:"🏃🏻‍♂️",price:1,level:1,mps:1,cooldown:500},{id:2,title:"🛴",price:10,level:0,mps:3,cooldown:600},{id:3,title:"🚲",price:100,level:0,mps:10,cooldown:700},{id:4,title:"🛵",price:1e3,level:0,mps:100,cooldown:800},{id:5,title:"🏍️",price:1e4,level:0,mps:1e3,cooldown:900},{id:6,title:"🚗",price:1e5,level:0,mps:1e4,cooldown:1e3},{id:7,title:"🚛",price:1e6,level:0,mps:1e5,cooldown:1100},{id:8,title:"🚂",price:1e7,level:0,mps:1e6,cooldown:1200},{id:9,title:"🚅",price:1e8,level:0,mps:1e7,cooldown:1300},{id:10,title:"🛥️",price:1e9,level:0,mps:1e8,cooldown:1400},{id:11,title:"🚤",price:1e10,level:0,mps:1e9,cooldown:1500},{id:12,title:"🚢",price:1e11,level:0,mps:1e10,cooldown:1600},{id:13,title:"🛩",price:1e12,level:0,mps:1e11,cooldown:1700},{id:14,title:"✈",price:1e13,level:0,mps:1e12,cooldown:1800},{id:15,title:"🚀",price:1e14,level:0,mps:1e13,cooldown:1800}];class f extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.generators=[...m]}connectedCallback(){this.render()}render(){this.shadowRoot.innerHTML=`
      <style>
        ${v}
      </style>
        <h1>Simple Auto-Clicker</h1>
        <clicker-bank class="clicker-bank"></clicker-bank>
        <div class="clicker-generators">
          ${this.generators.map(e=>`
                <clicker-generator
                  ${d.G_TITLE} = "${e.title}"
                  ${d.G_PRICE} = "${e.price}"
                  ${d.G_LEVEL} = "${e.level}"
                  ${d.G_MPS}   = "${e.mps}"
                  ${d.G_COOLDOWN} = "${e.cooldown}">
                </clicker-generator>
              `).join("")}
        </div>
    `}}customElements.define("clicker-app",f);
